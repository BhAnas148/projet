{% extends "layouts/base.html" %}
{% block content %}
<h1>Edit Produit</h1>
{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% endif %}
<form action="{{ url_for('produit.update', produit_id=produit.id) }}" method="POST" enctype="multipart/form-data">
    <div class="form-group">
        <label for="designation">Produit Designation</label>
        <input type="text" id="designation" name="designation" class="form-control" value="{{ produit.designation }}"
            required>
    </div>
    <div class="form-group">
        <label for="description">Description</label>
        <textarea id="description" name="description" class="form-control" required>{{ produit.description }}</textarea>
    </div>
    <div class="form-group">
        <label for="prix_vente">Price</label>
        <input type="number" id="prix_vente" name="prix_vente" class="form-control" value="{{ produit.prix_vente }}"
            required>
    </div>
    <div class="form-group">
        <label for="categorie_id">Category</label>
        <select id="categorie_id" name="categorie_id" class="form-control" required>
            {% for category in categories %}
            <option value="{{ category.id }}" {% if category.id==produit.categorie_id %} selected {% endif %}>
                {{ category.nom }}
            </option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="sous_categorie_id">Sous-Categorie</label>
        <select id="sous_categorie_id" name="sous_categorie_id" class="form-control" required>
            {% for sous_category in sous_categories %}
            <option value="{{ sous_category.id }}" {% if sous_category.id==produit.sous_categorie_id %} selected {%
                endif %}>
                {{ sous_category.nom }}
            </option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="image">New Product Image</label>
        <input type="file" id="image" name="image" class="form-control">
    </div>
    <button type="submit" class="btn btn-primary mt-3">Update</button>
</form>
{% endblock %}